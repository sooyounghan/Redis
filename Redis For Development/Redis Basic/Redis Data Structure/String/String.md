-----
### string
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/7817acb7-8766-4be6-af27-77f9b9417a0e">
</div>

1. string은 레디스에서 데이터를 저장할 수 있는 가장 간단한 자료구조
   - 최대 512MB의 문자열 데이터를 저장할 수 있으며, 이진 데이터를 포함하는 모든 종류의 문자열이 binary-safe하게 처리됨
   - 따라서, JPEG 이미지와 같은 바이트 값, HTTP 응답값 등의 다양한 데이터 저장 가능

2. 키와 실제 저장되는 아이템이 일대일로 연결되는 유일한 자료 구조
   - string이 아닌 다른 자료 구조에서는 하나의 키에 여러 개 아이템이 저장

3. 예) hello 라는 키에 world라는 string 데이터가 연결된 모습
   - SET 커맨드 : string 데이터를 저장
   - GET 커맨드 : 저장된 string 데이터 조회
```redis
> SET hello world
OK

> GET hello
"world"
```

  - 만약 hello 라는 키에 다른 값이 연결되어 있다면, 기존 값은 새로 입력된 값으로 대체
  - 저장되어 있던 값이 같은 string 형태가 아닌 다른 형태 자료 구조라도 동일하게 동작

4. SET과 함께 NX 옵션 사용 : 지정한 키가 없을 때만 새로운 키 저장
```redis
> SET hello nerval NX
(nil)
```
   - 이미 hello라는 키에 world라는 데이터를 저장했으므로, NX 옵션을 사용해 새로운 값을 저장하고자 할 때 새로운 값이 저장되지 않음

5. XX 옵션을 사용하면 반대로 키가 있을 때에만 새로운 값을 덮어쓰며, 새로운 키를 생성하진 않도록 동작
```redis
> SET hello newval XX
OK

> GET hello
"newval"
```

6. string 자료 구조에는 모든 문자열 데이터를 저장할 수 있으므로, 숫자 형태 데이터를 저장하는 것도 가능
   - INCR, INCRBY와 같은 커맨드를 이용하면 string 자료 구조에 저장된 숫자를 원자적(Atomic) 조작 가능
```redis
> SET counter 100
OK

> INCR counter
(integer) 101

> INCR count
(integer) 102

> INCRBY counter 50
(integer) 152
```
   - counter라는 키에 100이라는 데이터 저장한 뒤, 원자적으로 처리
   - INCR 커맨드 : 저장된 데이터를 1씩 증가할 수 있고, 증가된 값 반환
   - INCRBY 커맨드 : 입력한 값만큼 데이터 증가
   - DECR, DECRBY 커맨드는 동일한 방식으로 데이터를 감소시키는 커맨드

7. 커맨드가 원자적이라는 것은 같은 키에 접근하는 여러 클라이언트가 경쟁 상태(Race Condition)를 발생시킬 일이 없음을 의미
   - 커맨드를 수행하는 타이밍이나 순서에 따라 이미 실행한 커맨드가 무시되거나 같은 커맨드가 중복 처리 되어 수행 결과가 달라지는 일은 발생하지 않음을 뜻함
   - 예를 들어, 클라이언트가 A와 B가 동시에 10이라는 데이터를 가지고 있는 키에 INCR 커맨드를 수행하더라도 하나의 커맨드만 수행되어 11이 저장되는 상황은 발생하지 않음
   - 레디스에서 INCR 커맨드를 이용하면 데이터를 읽고-증가하고-저장하는 일련의 과정은 모두 원자적으로 발생하고, 이 과정을 수행할 때 다른 클라이언트가 이 키에 접근할 수 없음을 보장

8. MEST, MGET 커맨드를 이용하면 한 번에 여러 키 조작 가능
```redis
> MSET a 10 b 20 c 30
OK

> MGET a b c
1) "10"
2) "20"
3) "30"
```
   - 성능이 중요한 대규모 시스템에서는 ms 단위의 속도 향상도 서비스 전체의 속도 향상으로 이어질 수 있음
   - MSET, MGET과 같은 커맨드를 적절하게 사용해 네트워크 통신 시간을 줄인다면, 전반적으로 서비스 응답 속도를 확실하게 향상시킬 수 있음
