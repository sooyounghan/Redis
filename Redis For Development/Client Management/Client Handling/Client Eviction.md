-----
### 클라이언트 이빅션
-----
1. 레디스는 많은 클라이언트 연결을 처리할 수 있는데, 클라이언트 연결 수가 증가하면 메모리 사용량도 증가
   - 클라이언트 연결이 메모리를 과다 사용해 OOM(Out-Of-Memory)이 발생하거나 데이터 이빅션을 유발할 수 있음
   - 이전 버전에서는 클라이언트 연결과 데이터를 저장하는데 사용하는 메모리를 통합해 maxmemory-policy 설정값으로 메모리 한도를 관리할 수 있었음
   - 레디스 7.0부터는 maxmemory-clients 설정값을 이용해 모든 클라이언트 연결(pub / sub 및 일반 클라이언트 모두)이 사용하는 누적 메모리 양 제한할 수 있게됨
     + 임계치에 도달하면 레디스는 서버에서 클라이언트 연결을 해제해 메모리를 확보
     + 서버는 가장 많은 메모리를 사용하는 연결부터 해제하려고 시도하며, 이 기능을 클라이언트 이빅션(Client Eviction)

2. maxmemory-clients 설정값은 레디스에 연결된 모든 클라이언트의 최대 총 메모리 사용량 정의
   - 이 계산에는 쿼리 버퍼, 출력 버퍼 및 중간 버퍼와 같은 여러 클라이언트 구성 요소에서 사용하는 메모리가 포함
   - 클라이언트 이빅션 기능을 사용하면 가장 많은 메모리를 사용하는 클라이언트 연결을 끊으며, maxmemory-clients 임계치를 초과하지 않도록 필요한 최소한의 클라이언트 연결만을 해제

3. maxmemory-clients 값은 redis.conf에서 설정하거나, CONFIG SET 커맨드를 이용해 변경할 수 있음
   - 이 값을 0으로 지정하면, 기능을 사용하지 않음을 의미
   - 또는 아래 예시와 같이 바이트 단위의 특정 크기를 직접 지정할 수 있으며, 퍼센트 기호를 사용해서 퍼센트로 설정 가능
   - 5%로 설정했다면, 이 값은 maxmemory-clients 값의 5% 의미
```redis
maxmemory-clients 15
maxmemory-client 5%
```
   - 기본 설정값은 0으로, 이는 해당 기능이 기본적으로 비활성되어있음을 의미
   - 그러나 대규모 트래픽 환경에서는 클라이언트 연결에 사용되는 메모리 양을 제어하기 위해 5%나 10%과 같은 값을 설정하는 것 권장
   - 복제 연결에 사용되는 복제본과 마스터 커넥션은 클라이언트 이빅션 기능에 영향을 받지 않으므로, 복제 과정에서 사용하는 메모리 양이 많더라도 이 설정에 의해 복제 연결은 자동으로 끊어지지 않음

4. 특정 클라이언트 연결을 클라이언트 이빅션 기능에서 제외시킬 수 있음
   - 예를 들어, 레디스 서버를 주기적으로 모니터링하고 알림을 보내는 애플리케이션의 경우, 해당 클라이언트 연결은 이빅션의 영향을 받지 않도록 설정하는 것이 좋음
```redis
> CLIENT NO-EVICT on
OK
```
   - 아래 명령을 사용하는 클라이언트는 강제로 연결이 끊기지 않으며, CLIENT NO-EVICT off 커맨드를 실행하면 해당 설정을 이전 상태로 복원 가능
