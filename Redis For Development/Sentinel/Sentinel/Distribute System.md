-----
### 분산 시스템으로 동작하는 센티널
-----
1. SPOF(Single Point Of Failure) : 하나의 서비스에 문제가 발생했을 때, 전체 시스템이 영향을 받는 지점
   - 복제와 자동 페일 오버를 이용해 고광성을 확보하는 이유 : 레디스가 SPOF가 되는 것을 방지하기 위함
   - 하지만, 고가용성을 위해 도입하는 서비스가 SPOF가 되어버린다면, 이는 도입 할 필요가 없는 시스템

2. 센티널은 그 자체로 SPOF가 되는 것을 방지하기 위해 최소 3대 이상일 떄, 정상적으로 동작할 수 있도록 설계
   - 하나의 센티널에 이상이 생기더라도 다른 센티널이 계속해서 역할을 수행할 수 있게 함

<div align="center">
<img src="https://github.com/user-attachments/assets/6ee4d78e-933f-41b9-a91f-709eb8f65cbd">
</div>

3. 클라이언트는 센티널에 먼저 연결해 마스터의 정보를 받아옴
   - 만약 마스터와 복제본 인스턴스가 정상 상태지만, 센티널 인스턴스에 문제가 생겨 마스터 정보를 반환할 수 없게 된다면, 클라이언트는 레디스로 새로운 커넥션을 맺을 수 없게 됨
   - 하지만, 3대의 센티널이 동시에 동작하므로 하나의 센티널에 문제가 생기더라도, 클라이언트는 다른 센티널에서 마스터 정보를 받아올 수 있음

4. 센티널은 오탐을 줄이기 위해 쿼럼(Quorum)이라는 개념 사용
   - 쿼럼은 마스터가 비정상 동작을 한다는 것에 동의해야 하는 센티널의 수
   - 쿼럼을 만족하는 경우 페일오버 시작
   - 일반적으로 센티널 인스턴스가 3개일 때, 쿼럼은 2로 설정 : 이는 최소 2개 이상 센티널 인스턴스가 마스터 비정상 상태에 동의한다면, 페일오버 프로세스를 시작시킴

5. 센티널은 쿼럼을 이용한 과반수 산출 개념을 사용하므로 3대 이상 홀수로 구성하는 것이 좋음
   - 보통 3대로 구성하며, 좀 더 견고하게 장애에 대처하고자 한다면 5대로 구성 가능
