-----
### 센티널 인스턴스 배치 방법
-----
1. 기본적으로 센티널 인스턴스는 물리적으로 서로 영향을 받지 않는 서버에서 실행되는 것이 좋음
   - 마스터의 장애를 감지할 수 있어야 하므로 서로 다른 가용 영역에 배치하는 것이 일반적
<div align="center">
<img src="https://github.com/user-attachments/assets/9c77a85d-3191-4014-8e45-d410124be798">
</div>

2. 센티널은 최대 3이상 사용해야 하며, 각각은 다른 물리 서버에 배치하는 것이 좋으므로 위 같은 구조가 센티널을 사용할 때 가장 일반적 배치 방법
   - 보통 하나의 서버에 레디스 프로세스와 센티널 프로세스를 동시에 실행

3. 만약, 위 같은 구성에서 서버 A에 문제가 생겨 마스터 노드와 센티널에 접근할 수 없게 되면, 서버 B / C에 있는 센티널 인스턴스가 마스터 인스턴스에 접근이 불가능한 상태라는 것에 동의한 뒤, 페일오버를 진행
<div align="center">
<img src="https://github.com/user-attachments/assets/5b7d348d-2e67-4d76-ab59-d08209ca7576">
</div>

4. 서버 B와 C의 센티널 인스턴스는 새롭게 마스터가 될 복제본을 선출한 뒤, 해당 복제본 인스턴스를 마스터 승격
   - 서버 B의 복제본이 마스터 노드로 선출됐다고 가정 : 이 때, 서버 C의 복제본 노드는 서버 B를 바라보도록 복제 연결을 변경
   - 기존 마스터를 바라보고 있던 클라이언트는 모두 서버 B로 새롭게 선출된 마스터로 연결되며, 레디스로 들어오는 커넥션은 모두 마스터 IP 정보로 서버 B의 레디스 주소를 전달받음
   - 위 상황에서 A가 복구되면, 센티널 프로세스들은 기존 마스터였던 서버 A의 레디스 인스턴스를 새롭게 마스터가 된 서버 B의 복제본이 되도록 연결
   - 이 과정은 센티널 인스턴스의 판단으로 자동 구성되며, 운영자의 개입이 필요하지 않음
<div align="center">
<img src="https://github.com/user-attachments/assets/7b228126-3f7c-4d39-ab7f-5da79726867c">
</div>

5. 서버 리소스에 여유가 있다면, 2개의 복제본을 가질 수 있도록 구성하는 것이 가장 안정적
   - 하지만, 경우에 따라 1개의 복제본으로도 충분한 서비스가 있을 수 있음
   - 이럴 경우 2대의 서버에는 레디스와 센티널 인스턴스를 동시에 실행시키고, 나머지 1대의 서버는 센티널 프로세스만 실행시키도록 배치 가능
   - 이 때, 센티널만 실행될 서버는 데이터를 직접 저장하지도, 클라이언트의 요청을 받지도 않는 서버이므로 최저 사양 스펙을 구성되도 괜찮음
<div align="center">
<img src="https://github.com/user-attachments/assets/30921e2a-af05-45ea-9174-da55a362b126">
</div>

6. 서버 C는 센티널 인스턴스만 실행되는 서버
7. 만약, 앞선 에제처럼 서버 A에 문제가 생겨 마스터 노드와 센티널에 접근할 수 없게 되면, 서버 B와 C에 있는 센티널 인스턴스가 마스터 인스턴스에 접근 불가능한 상태라는 것에 동의한 후, 페일 오버를 진행시켜 다음과 같은 상태
<div align="center">
<img src="https://github.com/user-attachments/assets/04c2afe7-8352-461e-a4dd-b293a6944168">
</div>

8. 서버 C를 최저 사양으로 구성해 리소스를 비용을 아끼면서도, 마스터 장애를 감지해 자동 페일오버를 수행할 수 있는 안정적인 구조
