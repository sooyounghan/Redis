-----
### 노드 제거하기
-----
1. 클러스터에서 노드를 제거하기 위해서는 del-node 커맨드 사용
```redis
redis-cli --cluster del-node <기존 노드 IP:PORT> <삭제할 노드 ID>
```
  - 첫 번째 인수 : 기존 클러스터 노드 중 하나의 노드 정보
  - 두 번째 인자 : 삭제하려는 노드의 ID
  - 제거하려는 노드가 마스터 노드인지, 복제본 노드인지에 상관 없이 모든 노드를 같은 방식으로 삭제할 수 있지만, 마스터 노드의 경우 제거하기 전 노드에 저장된 데이터가 없는 상태여야 함
  - 즉, 할당된 해시슬롯이 하나도 없도록 해시슬롯을 모두 다른 노드로 리샤딩하는 작업이 선행되어야 함
  - 혹은 수동으로 페일오버를 진행한 뒤 노드의 역할을 복제본으로 만든 뒤 클러스터에서 제거할 수 있음

2. 추가했던 ```192.168.0.77``` 노드 삭제
<div align="center">
<img src="https://github.com/user-attachments/assets/2c8794a1-5eaa-4fff-8ce7-64b9d3854aa9">
</div>

   - 제거할 노드의 ID를 입력함으로써 클러스터에서 노드 제거 가능
   - 이 때, CLUSTER FORGET을 클러스터에, CLUSTER RESET SOFT를 제거된 노드에 수행하겠다는 내용 존재

3. CLUSTER FORGET
   - 클러스터를 제거하기 위해 제거될 노드에서 클러스터 구성 데이터를 지우는 것 뿐 아니라, 클러스터 내 다른 노드들에게도 해당 노드를 지우라는 커맨드를 보내야 함
   - 그렇지 않다면, 클러스터 내부의 다른 노드는 여전히 해당 노드의 ID와 주소를 기억하고 있게 됨
   - ```CLUSTER FORGET <node-id>``` 커맨드를 수신한 노드는 노드 테이블에서 제거할 노드의 정보를 지운 뒤, 60초 동안은 이 노드 ID를 가지고 있는 노드와 신규로 연결되지 않도록 설정
   - 클러스터 구성에서 노드들은 가십 프로토콜을 이용해 통신하므로 신규 클러스터 노드를 자동으로 감지해 새로운 노드를 추가할 수 있음
     + 따라서 60초 동안 제거한 노드의 ID가 다시 추가되는 것을 차단하지 않으면, 다른 노드에 의해 제거된 노드를 다시 클러스터에 추가할 가능성 존재

4. CLUSTER RESET
   - 제거할 노드에서 수행되고, 리셋에는 두 가지 옵션이 존재하며, 옵션이 지정되지 않으면 SOFT
```redis
CLUSTER RESET [SOFT/HARD]
```
   - 진행 과정 (HARD RESET은 모든 과정을, SOFT RESET은 첫 번째에서 세 번째 과정까지만 수행)
     + 클러스터 구성에서 복제본 역할을 했었다면, 노드는 마스터로 전환되고, 노드가 가지고 있는 모든 데이터셋은 삭제
       * 노드가 마스터이고, 저장된 키가 있다면 리셋 작업 중단
     + 노드가 해시슬롯을 가지고 있다면, 모든 슬롯은 해제되며, 만약 페일오버가 진행되는 과정이었다면, 페일 오버에 대한 진행 상태도 초기화
     + 클러스터 구성 내 다른 노드 데이터가 초기화됨, 기존에 클러스터 버스를 통해 연결됐던 노드를 더 이상 인식할 수 없음
     + currentEpoch, confgiEpoch, lastVoteEpoch 값이 0으로 초기화
     + 노드의 ID가 새로운 임의 ID로 변경

   - CLUSTER RESET은 cluster del-node 수행 중에도 자동으로 실행될 수 있지만, 사용자가 특정 클러스터 노드를 다른 역할로 재사용하고자 할 때, 노드에 직접 커맨드를 수행할 수 있음
