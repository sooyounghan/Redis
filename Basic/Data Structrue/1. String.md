-----
### ì£¼ìš” ëª…ë ¹ì–´
-----
1. Redis ë°ì´í„°ë² ì´ìŠ¤ëŠ” 0 ~ 15ê¹Œì§€ë¡œ 16ê°œë¡œ êµ¬ì„±
   - ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ Redis ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì— ë°ì´í„°ë² ì´ìŠ¤ ë¶„ë¦¬ ê°€ëŠ¥
   - SELECT ë°ì´í„°ë² ì´ìŠ¤ìˆ«ìž
   - ìµœì´ˆ ì ‘ì† ì‹œ Default : 0ë²ˆ (ë³„ë„ì˜ í‘œì‹œ ì—†ìŒ)
```bash
# redisëŠ” 0~15ë²ˆê¹Œì§€ì˜ databaseë¡œ êµ¬ì„±(defaultëŠ” 0ë²ˆ db)
# ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
$ docker exec -it 7a577593951c redis-cli
127.0.0.1:6379> select 10
OK
127.0.0.1:6379[10]> select 0
OK
```

2. ëª¨ë“  Key ê°’ ì¡°íšŒ : keys * (í•­ìƒ Keyë¶€í„° ì¡°íšŒ)
```bash
# ë°ì´í„°ë² ì´ìŠ¤ë‚´ ëª¨ë“  í‚¤ ì¡°íšŒ
127.0.0.1:6379> keys *
(empty array)
```
  - ì•„ë¬´ ê°’ë„ ì—†ìœ¼ë¯€ë¡œ (empty array) ì¶œë ¥

3. í‚¤ ì‚­ì œ : DEL key
```bash
127.0.0.1:6379> DEL user:email:1
(integer) 1
127.0.0.1:6379> keys *
1) "user:1:refresh_token"
3) "user:email:2"
```

   - ì „ì²´ ì‚­ì œëŠ” FLUSHDB (í˜„ìž¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  Key ì‚­ì œ)
```bash
# í˜„ìž¬ DB ë‚´ ëª¨ë“  Key ì‚­ì œ
127.0.0.1:6379> flushdb
OK
127.0.0.1:6379> keys *
(empty array)
```

-----
### String ê´€ë ¨
-----
1. í‚¤-ê°’ ì„¤ì • : SET key value
```bash
# setì„ í†µí•´ key:value ì„¸íŒ…
$ docker exec -it 7a577593951c redis-cli
127.0.0.1:6379> SET user:email:1 hong1@naver.com
OK
127.0.0.1:6379> keys *
1) "user:email:1"
127.0.0.1:6379> SET user:email:2 hong2@naver.com
OK
127.0.0.1:6379> keys *
1) "user:email:1"
2) "user:email:2"
```
  - Key : user:email:1, user:email:2
  - Value : ```hong1@naver.com```, ```hong2@naver.com```

```bash
127.0.0.1:6379> SET user:email:2 hong3@naver.com
OK
127.0.0.1:6379> get user:email:2
"hong3@naver.com"
```
  - Key-Value í˜•ì‹ì—ì„œëŠ” ê°’ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë®ì–´ì“°ê¸° ì ìš©
  - ë§ˆì§€ë§‰ìœ¼ë¡œ ë„£ì€ Value ê°’ì´ Setting

2. í‚¤ì˜ ê°’ì„ ì¶”ì¶œ : GET key
```bash
127.0.0.1:6379> GET user:email:1
"hong1@naver.com"
```

3. NX ë¬¸ë²•
   - Key ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ (If not exists) ê°’ì„ Setting (ì¦‰, Key ê°’ì´ ìžˆìœ¼ë©´ Settingì„ í•˜ì§€ ì•ŠìŒ)
   - SET key value nx
```bash
# nx : ì´ë¯¸ ì¡´ìž¬í•˜ë©´ PASS, ì—†ìœ¼ë©´ SET
127.0.0.1:6379> SET user:email:2 hong4@naver.com nx
(nil)
127.0.0.1:6379> get user:email:2
"hong3@naver.com"
```

4. EX ë¬¸ë²•
   - ðŸ’¡ 'SET Keyê°’ Valueê°’ nx ex ì´ˆë‹¨ìœ„ì‹œê°„' í˜•ì‹ìœ¼ë¡œ Key ìœ ì§€ (ë§Œë£Œ) ì‹œê°„ Setting
     + RDBëŠ” ë°ì´í„°ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ë³´ê´€ì´ ì£¼ìš” ëª©ì ì´ë©°, RedisëŠ” ë¹ ë¥¸ ì„±ëŠ¥ì— ë¹ˆë²ˆí•˜ê²Œ ì¡°íšŒí•˜ì§€ë§Œ ëŒ€ì‹  ë©”ëª¨ë¦¬ì— ì €ìž¥í•˜ë¯€ë¡œ ë°˜ì˜êµ¬ì ì´ê¸°ë³´ë‹¤ ì¼ì‹œì„±ì´ ê°•í•¨
   - EXPIRE Keyê°’ ì‹œê°„ ìœ¼ë¡œ ë³„ë„ ë¶€ì—¬ ê°€ëŠ¥

```bash
# ex : ë§Œë£Œì‹œê°„ (ì´ˆ ë‹¨ìœ„) - TTL(Time To Live)
127.0.0.1:6379> SET user:email:3 hong3@naver.com ex 10
OK
127.0.0.1:6379> keys *
1) "user:email:1"
2) "user:email:2"
3) "user:email:3"
127.0.0.1:6379> keys *
1) "user:email:1"
2) "user:email:2"
```

  - 10ì´ˆ ë’¤ "user:email:3" Key ê°’ ì‚­ì œ

5. í™œìš©
   - ì‚¬ìš©ìž ì¸ì¦ ì •ë³´ ì €ìž¥ (ì˜ˆ) Refresh Tokenê³¼ Access Tokenì„ ì €ìž¥í•´ë‘ê³  ìš”ì²­ì´ ë“¤ì–´ì˜¬ ì‹œ, ê°’ í™•ì¸ - ì¡°íšŒ ì†ë„ê°€ ë¹ ë¥´ê³  ë¹ˆë²ˆí•˜ê²Œ ìš”ì²­í•˜ë¯€ë¡œ ì‚¬ìš©)
```bash
# Redisí™œìš© : Refresh í† í°ë“± ì‚¬ìš©ìž ì¸ì¦ì •ë³´ ì €ìž¥
127.0.0.1:6379> SET user:1:refresh_token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9 ex 1000
OK

# Getì„ í†µí•´ Valueê°’ ì–»ê¸°
127.0.0.1:6379> GET user:1:refresh_token
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
```
   - ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„ (RDB : ì¸ê¸°ìžˆëŠ” ê²Œì‹œë¬¼ì˜ ê²½ìš°, ì—¬ëŸ¬ ì‚¬ìš©ìžê°€ ì¢‹ì•„ìš”ë¥¼ ë™ì‹œì— ëˆŒë €ì„ ë•Œ ë™ì‹œì„± ì´ìŠˆ ë°œìƒ ê°€ëŠ¥)
```bash
# Redis í™œìš© : ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„
127.0.0.1:6379> SET likes:posting:1 0
OK

# íŠ¹ì • Key ê°’ì˜ Valueë¥¼ 1ë§Œí¼ ì¦ê°€
127.0.0.1:6379> INCR likes:postring:1
(integer) 1

127.0.0.1:6379> GET likes:postring:1
"1"

# íŠ¹ì • Key ê°’ì˜ Valueë¥¼ 1ë§Œí¼ ê°ì†Œ
127.0.0.1:6379> DECR likes:postring:1
(integer) 0
127.0.0.1:6379> GET likes:postring:1
"0"
```

   - ìž¬ê³  ì²˜ë¦¬ (ë™ì‹œì„± ì´ìŠˆ í•´ê²°)
```bash
# Redis í™œìš© : ìž¬ê³ ê´€ë¦¬ (ë™ì‹œì„± ì´ìŠˆ í•´ê²°)
127.0.0.1:6379> SET stocks:product:1 100
OK

127.0.0.1:6379> DECR stocks:product:1
(integer) 99

127.0.0.1:6379> GET stocks:product:1
"99"
```

   - ìºì‹± ê¸°ëŠ¥ êµ¬í˜„ (JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ Value ê°’ìœ¼ë¡œ ë§Žì´ ì‚¬ìš©)
     + ìºì‹± (Caching) : ìž„ì‹œ ì €ìž¥ì„ ì˜ë¯¸
     + ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ, ìµœì´ˆ ì¡°íšŒ ìš”ì²­ì€ RDBì—ì„œ ì¡°íšŒí•˜ê³ , ì´ ê°’ì„ Redisì— ì €ìž¥í•œ ë’¤ ì‘ë‹µ
     + ë‹¤ìŒ ì¡°íšŒ ìš”ì²­ì´ ì˜¤ë©´, Redisì—ì„œ ìž„ì‹œ ì €ìž¥ëœ ë‚´ìš© í™•ì¸ í›„, ìžˆë‹¤ë©´ ì´ ì •ë³´ë¥¼ ì‘ë‹µ : ìºì‹± (Caching) - ë‹¨, TTL ì„¤ì • í•„ìš”
```bash
# Redis í™œìš© : ìºì‹± ê¸°ëŠ¥ êµ¬í˜„
# 1ë²ˆ member íšŒì› ì •ë³´ ì¡°íšŒ : select name, email, age from member where id=1; (RDB)
# ìœ„ ë°ì´í„°ì˜ ê²°ê³¼ê°’ì„ Redisë¡œ ìºì‹± -> JSON í˜•ì‹ìœ¼ë¡œ ì €ìž¥ {"name":"hong", "email":"hong@daum.net", "age":30}
127.0.0.1:6379> SET member:info:1 {"\"name\":\"hong\", \"email\":\"hong@daum.net\", \"age\":30}" ex 20
OK

127.0.0.1:6379> GET member:info:1
"{\"name\":\"hong\", \"email\":\"hong@daum.net\", \"age\":30}"

127.0.0.1:6379> GET member:info:1
(nil)
```
