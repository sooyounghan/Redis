-----
### Cahce Aside 전략 (= Look Aside, Lazy Loading 전략)
----
1. 데이터를 조회할 때 주로 사용하는 전략 (참고 : Redis를 Cache로 쓸 때 어떤 방식으로 사용할 지 전략은 다양함)
2. 예시 - 게시판 서비스를 배포했다고 가정하고 Cache Aside 작동 방식 이해
   - 처음 게시판 서비스를 배포했으므로 데이터베이스와 Redis에는 아무런 데이터가 저장 되어있지 않음
   - 일부 사용자가 들어와 게시글 작성을 함으로써 데이터를 저장하며, 이 데이터는 데이터베이스에 저장 (Redis에는 저장되지 않음)
   - 사용자가 데이터를 조회하려고 요청
     + 이 때, 데이터베이스로부터 바로 데이터를 조회하기 전 Redis에 있는지 먼저 확인
   - Redis에 데이터가 없는 것을 확인한 뒤, 데이터베이스로부터 데이터를 조회해서 응답
   - 데이터베이스로부터 조회한 데이터를 응답한 뒤 Redis에도 데이터 저장
   - 다시 한 번, 데이터를 조회하려고 요청
   - Redis에 조회하고자 하는 데이터가 있는지 확인한 뒤, 존재한다면 Redis로부터 데이터를 바로 가져옴

3. 캐시에 데이터가 있을 경우 (= Cache Hit) - 데이터를 요청했을 때 캐시에 데이터가 있는 경우
<div align="center">
<img src="https://github.com/user-attachments/assets/807db0f7-ef6b-463a-a613-15e9783e6937">
</div>

4. 캐시에 데이터가 없을 경우 (= Cache Miss) - 데이터를 요청했을 때 캐시에 데이터가 없을 경우
<div align="center">
<img src="https://github.com/user-attachments/assets/6e067dca-a931-4943-8e0a-fbfd4adc1536">
</div>

5. 정리 : 캐시(Cache)에 데이터를 확인하고, 없다면 DB를 통해 조회해오는 방식

-----
### Write Around 전략
-----
1. 데이터를 어떻게 쓸 지 (저장, 수정, 삭제) 대한 전략
2. Cache Aside 전략과 자주 활용
3. 그림
<div align="center">
<img src="https://github.com/user-attachments/assets/60a12e8b-3fa1-4698-976b-4fd2fde9ff2c">
</div>

  - 데이터를 저장할 때는 Redis에 저장하지 않고, 데이터베이스에만 저장
  - 데이터를 조회할 때 Redis에 데이터가 없다면, 데이터베이스로부터 데이터를 조회해서 Redis에 저장시켜주는 방식

4. 정리 : 쓰기 작업 (저장, 수정, 삭제)을 캐시에 반영하지 않고, DB에만 반영하는 방식

-----
### Cahce Aside, Write Around 전략의 한계점 및 해결 방법
-----
1. Cahce Aside, Write Around 전략의 한계점
  - 캐시된 데이터와 DB 데이터가 일치하지 않을 수 있음
    + 즉, 데이터의 일관성을 보장할 수 없음
    + Write Around 전략은 데이터를 수정할 때 DB만 업데이트하므로 기존 Redis에 저장된 데이터 값과 DB의 데이터 값이 다를 수 밖에 없음
<div align="center">
<img src="https://github.com/user-attachments/assets/807db0f7-ef6b-463a-a613-15e9783e6937">
<img src="https://github.com/user-attachments/assets/60a12e8b-3fa1-4698-976b-4fd2fde9ff2c">
</div>

  - 캐시에 저장할 수 있는 공간이 비교적 작음
    + DB는 디스크(Disk)에 저장해서 많은 양을 저장하기 용이
    + 캐시는 메모리(RAM)에 저장하므로 DB에 비해 많은 양의 데이터 저장 불가

2. 극복 및 해결 방법
  - 캐시된 데이터와 DB 데이터가 일치하지 않을 수 있는 문제
    + 캐시와 DB 데이터를 일치시키기 위해, 데이터를 수정할 때마다 동시에 업데이트를 시키면 성능적으로 느려짐
    + 그렇다고 성능 향상을 위해 DB 데이터만 업데이트 시키면 캐시와 DB 데이터가 일치하지 않게 됨
    + 따라서, 데이터 조회 성능 개선 목적으로 Redis를 쓰는 경우에는 데이터의 일관성을 포기하고 성능 향상 선택
      * 캐시 적용에 적절한 데이터 : 자주 조회되는 데이터, 잘 변하지 않는 데이터, 실시간으로 정확하지 않아도 되는 데이터
    + 하지만, 장기간 데이터가 일치하지 않는 건 문제가 되므로, 적절한 주기로 데이터 동기화가 필요 - 이 때, 활용하는 기능이 Redis의 TTL 기능 (만료 시간 설정 기능)
    + 일정 시간 지나면, 데이터가 캐시에서 삭제되고, 특정 사용자가 조회하는 순간 Cache Miss가 발생하므로, DB의 데이터를 새로 조회해서 캐시에 데이터를 저장하므로, 데이터가 새롭게 갱신되는 효과

  - 캐시에 저장할 수 있는 공간이 비교적 작은 문제
    + TTL 기능(만료 시간 설정 기능)을 활용하면 캐시 공간 효율적 사용 가능
    + 자주 조회하지 않는 데이터는 만료 시간에 의해 데이터가 삭제

3. 정리 : Cache Aside, Write Around 전략을 사용할 때 주로 TTL을 같이 활용

-----
### 캐싱(Caching)으로 조회 성능 개선하는 방법
-----
1. SQL 튜닝
2. 캐싱 서버 활용 (Redis 등)
3. 레플리케이션 (Replication) - Master / Slave 구조
4. 샤딩 (Sharding)
5. DB 스케일 업 (CPU, Memory, SSD 등 하드웨어 업그레이드)

6. 이 중, SQL 튜닝을 먼저 고려해야 함
   - SQL 튜닝을 제외한 나머지 방법은 추가적 시스템 구축 (금전적, 시간적 비용 추가적 발생)
   - 조금 더 복잡해진 시스템 구조로 관리 비용이 늘어남
   - 하지만, SQL 튜닝은 기존 시스템 변경 없이 성능 개선 가능

   - 또한, 근본적 문제 해결 방법은 SQL 튜닝일 가능성이 높음
     + SQL 자체가 비효율적으로 작성됐다면, 아무리 시스템적으로 성능을 개선하더라도 한계 존재
     + SQL 튜닝을 통해 기본적 성능을 향상시킨다면, 시스템적 성능 개선이 필요없거나 훨씬 간단한 개선으로 큰 성능 개선 효과 발생
